# k8sコマンド
- ヘルプ確認
  - kubectl run --help
- nginxのイメージpod作成
  - kubectl run nginx --image=nginx
- pod作成
  - kubectl create -f pod-definition.yaml (createの代わりにapplyでもOK)
- pod確認
  - kubectl get pods
- pod詳細確認
  - kubectl describe pod myapp-pod
- pod削除
  - kubectl delete pod myapp-pod
- pod確認(詳細に) nodeの配置場所などわかる
  - kubectl get pods -o wide
- nginxのpod作成
  - kubectl get pods -o wide
- redisのpod(imageがredis123)のマニフェスト確認
  - kubectl run redis --image=redis123 --dry-run -o yaml
  - dry-run=client フラグを使用すると、実際に送信することなく、クラスターに送信されるオブジェクトを確認することができます。
- redisのpod(imageがredis123)のマニフェスト作成
kubectl run redis --image=redis123 --dry-run=client -o yaml > redis.yaml
- レプリケーションコントローラー確認
  - kubectl get replicationController
- レプリケーションコントローラー削除
  - kubectl delete replicationController myapp-rc
- レプリカセット確認
  - kubectl get replicaset
- レプリカセット削除
  - kubectl delete replicaset myapp-replicaset
- マニフェストのレプリカセットの数を変更した時更新
  - kubectl replace -f replicaset-definition.yaml
- コマンドでレプリカセットの数を変更したい時
  - kubectl scale --replicas=6 replicaset-definition.yaml(kubectl scale --replicas=6 replicaset myapp-replicaset)
- デプロイメント確認
  - kubectl get deployments
- 作成されたもの全て確認
  - kubectl get pods
- 特定の名前とイメージを持つポッドやデプロイメントを作成するよう求められた場合
  - kubectl run コマンド
- deploymentのヘルプ
  - kubectl create deployment --help
- deployment作成
  - kubectl create deployment httpd-frontend --image=httpd:2.4-alpine --replicas=3
- service
 - NodePort
 - ClusterIP
 - Loadbalancer
   - クラウドプロバイダー(awsなど)のロードバランサーを使用して、Serviceを外部に公開します。クラスター外部にあるロードバランサーが転送する先のNodePortとClusterIP Serviceは自動的に作成されます。
 - serviceのClusterIPはKubernetesのクラスター外からはアクセスができない。serviceのNodePortを利用するとNodeの特定ポートにアクセスすれば、ClusterIPに繋げてくれる。
- namespace表示
  - kubectl get pods --namespace=kube-system
- namespace作成
  - kubectl create namespace dev
  - kubectl apply -f namespace-definition.yaml
- namespace付きpod作成
  - kubectl create -f pod-definition.yaml --namespace=dev
  - metadataの中にnamespace: devつける
